import{u as P,_ as R}from"./Dd5cy3LY.js";import{_ as L}from"./BTpMgaS3.js";import{f as h,$ as N,r as _,c as n,o as l,a2 as g,F as C,x as w,a as t,d as v,t as b,h as a,n as A,q as B,b as S,w as F,cs as G,aP as I,a1 as j,bd as z}from"./ohOm73aH.js";import"./C6VGmzD5.js";import"./BRbLF1ZN.js";import"./BeG_Mc6w.js";import"./D9sJHbn3.js";const V={class:"w-full"},W={key:0,class:"max-w-4xl mx-auto p-6 bg-white rounded-2xl"},J={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700"},O={class:"text-[12px]"},U={key:1,class:"flex-col h-96 w-full flex items-center justify-center"},E={class:"mb-2 text-sm text-zinc-600"},M={key:0,class:"text-green-600 text-sm mt-1"},q=h({__name:"ComponentStaffDetail",props:["item"],setup(i){const d=i,r=N(()=>{var e;return`http://localhost:3000/register-link/recrutement/create/${(e=d.item)==null?void 0:e.recrutement_id}`}),c=_(!1);function s(e){navigator.clipboard.writeText(e).then(()=>{c.value=!0,setTimeout(()=>c.value=!1,2e3)}).catch(o=>{console.error("Copy failed:",o)})}const m=[{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"gender",label:"Gender"},{key:"date_of_birth",label:"Date of Birth"},{key:"country_of_birth",label:"Country of Birth"},{key:"nationality_1",label:"Nationality 1"},{key:"nationality_2",label:"Nationality 2"},{key:"indentity_number",label:"Identity Number"},{key:"social_security_number",label:"Social Security Number"},{key:"permanent_address",label:"Permanent Address"},{key:"country_of_residence",label:"Country of Residence"},{key:"town_of_residence",label:"Town of Residence"},{key:"phone",label:"Phone"},{key:"personal_email",label:"Personal email"},{key:"marital_status",label:"Marital Status"},{key:"number_of_children",label:"Number of Children"},{key:"family_living_with_staff",label:"Family Living With Staff"},{key:"family_residence_location",label:"Family Residence Location"},{key:"spouse_works",label:"Spouse Works"},{key:"spouse_workplace",label:"Spouse Workplace"}];return(e,o)=>{var k;return l(),n("div",V,[(k=i.item)!=null&&k.employee?(l(),n("div",W,[i.item?(l(),n("div",J,[(l(),n(C,null,w(m,u=>{var f;return t("div",{key:u.key},[t("strong",O,b(u.label)+":",1),v(" "+b(((f=i.item)==null?void 0:f.employee[u.key])??"—"),1)])}),64))])):g("",!0)])):(l(),n("div",U,[t("p",E,[o[2]||(o[2]=v(" Link to share with the staff: ")),t("span",{onClick:o[0]||(o[0]=u=>("navigateTo"in e?e.navigateTo:a(A))(a(r),{external:!0})),class:"text-blue-600 underline break-all"},b(a(r)),1)]),t("button",{onClick:o[1]||(o[1]=u=>s(a(r))),class:"cursor-pointer mb-2 inline-flex items-center justify-center gap-2 px-4 py-2 text-[13px] font-medium text-zinc-800 border border-zinc-300 rounded-md hover:bg-zinc-100 transition-all duration-200 ease-in-out"},o[3]||(o[3]=[v(" Click here to copy the link to send to the staff "),t("i",{class:"uil uil-copy-alt text-lg"},null,-1)])),a(c)?(l(),n("p",M,"Copied to clipboard!")):g("",!0)]))])}}}),K={class:"max-w-4xl mx-auto mt-10 p-6 bg-white rounded-2xl"},H={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700"},Q={class:"text-[12px]"},X=h({__name:"ComponentJobDetail",props:["item"],setup(i){const d=i,r=["id","created_at","updated_at","employee_id","employee"];N(()=>{const s=d.item??{},m={};for(const[e,o]of Object.entries(s))r.includes(e)||(m[e]=o);return m});const c=[{key:"center",label:"Center"},{key:"country_duty_station",label:"Country Duty Station"},{key:"city_duty_station",label:"City Duty Station"},{key:"position_title",label:"Position Title"},{key:"recrutement_id",label:"Recrutment ID"},{key:"contract_from",label:"Contract Start Date"},{key:"contract_to",label:"Contract End Date"},{key:"grade",label:"Grade"},{key:"division",label:"Division"},{key:"program",label:"Program"},{key:"sub_unit",label:"Sub Unit"},{key:"education_level",label:"Education Level"},{key:"resources_type",label:"Resources Type"},{key:"contract_time",label:"Contract Time"},{key:"is_active",label:"Status"},{key:"supervisor_name",label:"Supervisor Name"},{key:"supervisor_position",label:"Supervisor Position"},{key:"recruitment_type",label:"Recruitment Type"},{key:"country_of_recruitment",label:"Country of Recruitment"},{key:"cgiar_workforce_group",label:"CGIAR Workforce Group"},{key:"cgiar_group",label:"CGIAR Group"},{key:"cgiar_appointed",label:"CGIAR Appointed"},{key:"percent_time_other_center",label:"Time at Other Center (%)"},{key:"shared_working_arrangement",label:"Shared Working Arrangement"},{key:"initiative_lead",label:"Initiative Lead"},{key:"initiative_personnel",label:"Initiative Personnel"},{key:"salary_post",label:"Salary"}];return(s,m)=>(l(),n("div",K,[i.item?(l(),n("div",H,[(l(),n(C,null,w(c,e=>t("div",{key:e.key},[t("strong",Q,b(e.label)+":",1),v(" "+b(i.item[e==null?void 0:e.key]??"—"),1)])),64))])):g("",!0)]))}}),Y={class:"w-full"},Z={class:"w-full"},ee={class:"flex items-center gap-2"},te={class:"flex justify-between items-center w-full"},oe={class:"text-black uppercase font-black text-2xl"},ae={class:"w-full flex mt-5 font-medium text-base cursor-pointer items-center border-b border-zinc-200"},le=["onClick"],ne={class:"w-full border border-gray-200 bg-white p-2 mt-3 rounded-md"},pe=h({__name:"[uuid]",setup(i){const d=P(),r=_(!1),c=y=>{r.value=y},s=_(),m=_([{label:"Job details",active:1},{label:"Personal informations",active:2}]),e=_(1),o=y=>{e.value=y},k={1:X,2:q},u=async()=>{const y=G();console.log(y.params.uuid);let p=await d.find(y.params.uuid);s.value=p.data,console.log(s.value)},f=async()=>{await d.createOrUpdate(s.value)};return B(()=>{u()}),(y,p)=>{const T=R,D=L;return l(),n("div",null,[S(D,null,{default:F(()=>{var $;return[t("div",Y,[t("div",Z,[t("div",ee,[t("div",te,[t("span",oe,b(($=a(s))==null?void 0:$.position_title),1),t("button",{onClick:p[0]||(p[0]=x=>c(!0)),type:"button",class:"btns max-w-max !bg-white !text-black border border-gray-300"},p[1]||(p[1]=[t("span",null," edit",-1),t("i",{class:"uil uil-pen"},null,-1)]))])])]),t("div",ae,[(l(!0),n(C,null,w(a(m),(x,se)=>(l(),n("button",{onClick:ie=>o(x.active),class:I(["max-w-max px-16 cursor-pointer text-[12px] text-center p-2 hover:bg-gray-100  duration-200 ease-in-out",a(e)==x.active?"border-b-2 border-black text-black font-bold":"text-gray-500"])},b(x.label),11,le))),256))]),t("div",ne,[(l(),j(z(k[a(e)]),{item:a(s)},null,8,["item"]))])]),S(T,{payload:a(s),inputPairs:a(d).inputPairs,action:f,title:"Update job",open:a(r),close:()=>c(!1),callback:u},null,8,["payload","inputPairs","open","close"])]}),_:1})])}}});export{pe as default};
