var M=Object.defineProperty;var B=(s,e,n)=>e in s?M(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var l=(s,e,n)=>B(s,typeof e!="symbol"?e+"":e,n);import{_ as O}from"./CFKA-BV4.js";import{_ as C}from"./DYyt3NaV.js";import{_ as E}from"./BUABwG1o.js";import{R as k,Q as L,r as x,A as F,f as N,g as P,o as _,c as v,b as f,w as h,a as r,F as V,U as I,h as T,V as w,X as b,i as U,t as D,_ as $}from"./WTrkuMsY.js";import{u as S}from"./CYnZEFuG.js";class q{constructor({settingId:e,label:n,name:d,value:c}){l(this,"settingId");l(this,"label");l(this,"name");l(this,"value");this.settingId=e,this.label=n,this.name=d,this.value=c}}class A{constructor({stepId:e,name:n,message:d,messageFr:c,active:i,dateFrom:a,dateTo:t,sent:o}){l(this,"stepId");l(this,"name");l(this,"message");l(this,"messageFr");l(this,"active");l(this,"dateFrom");l(this,"dateTo");l(this,"sent");this.stepId=e,this.name=n,this.message=d,this.messageFr=c,this.active=i,this.dateFrom=a,this.dateTo=t,this.sent=o}}const G=k("settingService",()=>{const s=L();async function e(){let i=null,a=null;return await S({uri:"setting/get/setting",success:async t=>{i=t.response.map(o=>new q(o))},error:t=>{a=t}}),{response:i,erreur:a}}async function n(i){let a=null,t=null;return await S({uri:"/setting/update/setting",methods:"POST",body:i,success:async o=>{s.add({title:"Operation completed successfully"})},error:o=>{t=o}}),{response:a,erreur:t}}async function d(i){let a=null,t=null;return await S({uri:"/setting/update/step",methods:"POST",body:i,success:async o=>{s.add({title:"Operation completed successfully"})},error:o=>{t=o}}),{response:a,erreur:t}}async function c(){let i=null,a=null;return await S({uri:"/setting/get/step",success:async t=>{i=t.response.map(o=>new A(o))},error:t=>{a=t}}),{response:i,erreur:a}}return{getSetting:e,getStep:c,updateSetting:n,updateStep:d}}),Q=k("SettingViewModel",()=>{const s=G(),e=x(),n=x(),d={settingId:"",label:"",name:"",value:""},c={stepId:"",name:"",message:"",messageFr:"",active:"",dateFrom:"",dateTo:"",sent:""};F({...d}),F({...c});async function i(){const{response:p,erreur:m}=await s.getSetting();m||(e.value=p)}async function a(){await s.updateSetting(e.value)}async function t(){const{response:p,erreur:m}=await s.getStep();m||(n.value=p)}async function o(p){await s.updateStep(p)}return{getSetting:i,getStep:t,setting:e,updateSetting:a,step:n,updateStep:o}}),R={class:"content"},X={class:"content-table"},j=["onSubmit"],z={class:"groupeInput"},H=["onUpdate:modelValue"],J={class:"groupeInput"},K=["onUpdate:modelValue"],W={for:""},Y=["onUpdate:modelValue"],Z=N({__name:"index",setup(s){const e=Q(),n=x(!1),d=async()=>{await Promise.all([e.getSetting(),e.getStep()])},c=async()=>{n.value=!0,await e.updateSetting(),n.value=!1},i=async a=>{await e.updateStep(a)};return P(()=>{d()}),(a,t)=>{const o=O,p=C,m=E;return _(),v("div",null,[f(m,null,{default:h(()=>[r("div",R,[t[2]||(t[2]=r("div",{class:"header"},[r("h5",null,"Setting")],-1)),r("div",X,[t[1]||(t[1]=r("h5",null,"Evaluation deadlines",-1)),f(p,{class:"mb-5",ui:{ring:"",divide:"divide-y divide-gray-100  dark:divide-gray-800"}},{default:h(()=>[r("div",null,[(_(!0),v(V,null,I(U(e).step,(u,y)=>(_(),v("form",{class:"rowinput",key:y,action:"",onSubmit:T(g=>i(u),["prevent"])},[r("div",z,[w(r("input",{type:"date",name:"",id:"","onUpdate:modelValue":g=>u.dateFrom=g,placeholder:"date for an employee"},null,8,H),[[b,u.dateFrom]])]),r("div",J,[w(r("input",{type:"date",name:"","onUpdate:modelValue":g=>u.dateTo=g,id:"",placeholder:"search for an employee"},null,8,K),[[b,u.dateTo]])]),f(o,{type:"submit",label:"Update"})],40,j))),128))])]),_:1}),r("form",{action:"",onSubmit:T(c,["prevent"])},[t[0]||(t[0]=r("h5",null,"Evaluation questions",-1)),f(p,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{default:h(()=>[(_(!0),v(V,null,I(U(e).setting,(u,y)=>(_(),v("div",{class:"groupeInput inputrow",key:y},[r("label",W,D(u==null?void 0:u.label),1),w(r("textarea",{name:"",id:"",cols:"30","onUpdate:modelValue":g=>u.value=g,rows:"3",placeholder:""},null,8,Y),[[b,u.value]])]))),128))]),_:1}),f(o,{"is-loading":U(n),type:"submit",label:"Update setting"},null,8,["is-loading"])],32)])])]),_:1})])}}}),ie=$(Z,[["__scopeId","data-v-c568cbf8"]]);export{ie as default};
