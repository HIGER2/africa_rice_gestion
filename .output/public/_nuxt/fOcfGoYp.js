var M=Object.defineProperty;var B=(n,e,s)=>e in n?M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var l=(n,e,s)=>B(n,typeof e!="symbol"?e+"":e,s);import{_ as O}from"./BRbLF1ZN.js";import{_ as C}from"./snL62lJX.js";import{_ as E}from"./BTpMgaS3.js";import{l as k,v as L,r as x,m as F,f as N,i as P,c as _,b as v,w as h,o as f,a as r,F as I,x as V,h as w,g as T,y as b,z as U,t as $,_ as D}from"./ohOm73aH.js";import{u as S}from"./BeG_Mc6w.js";class q{constructor({settingId:e,label:s,name:d,value:c}){l(this,"settingId");l(this,"label");l(this,"name");l(this,"value");this.settingId=e,this.label=s,this.name=d,this.value=c}}class z{constructor({stepId:e,name:s,message:d,messageFr:c,active:i,dateFrom:a,dateTo:t,sent:o}){l(this,"stepId");l(this,"name");l(this,"message");l(this,"messageFr");l(this,"active");l(this,"dateFrom");l(this,"dateTo");l(this,"sent");this.stepId=e,this.name=s,this.message=d,this.messageFr=c,this.active=i,this.dateFrom=a,this.dateTo=t,this.sent=o}}const G=k("settingService",()=>{const n=L();async function e(){let i=null,a=null;return await S({uri:"setting/get/setting",success:async t=>{i=t.response.map(o=>new q(o))},error:t=>{a=t}}),{response:i,erreur:a}}async function s(i){let a=null,t=null;return await S({uri:"/setting/update/setting",methods:"POST",body:i,success:async o=>{n.add({title:"Operation completed successfully"})},error:o=>{t=o}}),{response:a,erreur:t}}async function d(i){let a=null,t=null;return await S({uri:"/setting/update/step",methods:"POST",body:i,success:async o=>{n.add({title:"Operation completed successfully"})},error:o=>{t=o}}),{response:a,erreur:t}}async function c(){let i=null,a=null;return await S({uri:"/setting/get/step",success:async t=>{i=t.response.map(o=>new z(o))},error:t=>{a=t}}),{response:i,erreur:a}}return{getSetting:e,getStep:c,updateSetting:s,updateStep:d}}),j=k("SettingViewModel",()=>{const n=G(),e=x(),s=x(),d={settingId:"",label:"",name:"",value:""},c={stepId:"",name:"",message:"",messageFr:"",active:"",dateFrom:"",dateTo:"",sent:""};F({...d}),F({...c});async function i(){const{response:p,erreur:g}=await n.getSetting();g||(e.value=p)}async function a(){const{response:p,erreur:g}=await n.updateSetting(e.value)}async function t(){const{response:p,erreur:g}=await n.getStep();g||(s.value=p)}async function o(p){const{response:g,erreur:u}=await n.updateStep(p)}return{getSetting:i,getStep:t,setting:e,updateSetting:a,step:s,updateStep:o}}),A={class:"content"},H={class:"content-table"},J=["onSubmit"],K={class:"groupeInput"},Q=["onUpdate:modelValue"],R={class:"groupeInput"},W=["onUpdate:modelValue"],X={for:""},Y=["onUpdate:modelValue"],Z=N({__name:"index",setup(n){const e=j(),s=x(!1),d=async()=>{await Promise.all([e.getSetting(),e.getStep()])},c=async()=>{s.value=!0,await e.updateSetting(),s.value=!1},i=async a=>{await e.updateStep(a)};return P(()=>{d()}),(a,t)=>{const o=O,p=C,g=E;return f(),_("div",null,[v(g,null,{default:h(()=>[r("div",A,[t[2]||(t[2]=r("div",{class:"header"},[r("h5",null,"Setting")],-1)),r("div",H,[t[1]||(t[1]=r("h5",null,"Evaluation deadlines",-1)),v(p,{class:"mb-5",ui:{ring:"",divide:"divide-y divide-gray-100  dark:divide-gray-800"}},{default:h(()=>[r("div",null,[(f(!0),_(I,null,V(w(e).step,(u,y)=>(f(),_("form",{class:"rowinput",key:y,action:"",onSubmit:T(m=>i(u),["prevent"])},[r("div",K,[b(r("input",{type:"date",name:"",id:"","onUpdate:modelValue":m=>u.dateFrom=m,placeholder:"date for an employee"},null,8,Q),[[U,u.dateFrom]])]),r("div",R,[b(r("input",{type:"date",name:"","onUpdate:modelValue":m=>u.dateTo=m,id:"",placeholder:"search for an employee"},null,8,W),[[U,u.dateTo]])]),v(o,{type:"submit",label:"Update"})],40,J))),128))])]),_:1}),r("form",{action:"",onSubmit:T(c,["prevent"])},[t[0]||(t[0]=r("h5",null,"Evaluation questions",-1)),v(p,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{default:h(()=>[(f(!0),_(I,null,V(w(e).setting,(u,y)=>(f(),_("div",{class:"groupeInput inputrow",key:y},[r("label",X,$(u==null?void 0:u.label),1),b(r("textarea",{name:"",id:"",cols:"30","onUpdate:modelValue":m=>u.value=m,rows:"3",placeholder:""},null,8,Y),[[U,u.value]])]))),128))]),_:1}),v(o,{"is-loading":w(s),type:"submit",label:"Update setting"},null,8,["is-loading"])],32)])])]),_:1})])}}}),ie=D(Z,[["__scopeId","data-v-c568cbf8"]]);export{ie as default};
