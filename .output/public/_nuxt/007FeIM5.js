import{_ as M}from"./BTpMgaS3.js";import{_ as B}from"./BQQj4zHw.js";import{u as V}from"./D0iGFeN3.js";import{f as $,r as g,i as j,c as d,o as r,a as t,b as x,h as p,n as I,p as z,a1 as _,M as P,w as k,a2 as b,g as U,ba as S,T as G,_ as E,d as o,t as l,F as N,x as C,s as O,q as J,aG as T,aP as K,K as W,bd as q}from"./ohOm73aH.js";import{_ as H}from"./BRbLF1ZN.js";import"./D9sJHbn3.js";import"./CLy-2z_b.js";import"./DxU6S33H.js";import"./BeG_Mc6w.js";const Q={class:"content-table"},X=$({__name:"componentStaff",setup(c){g(!1);const n=V(),s=[{label:"Matricule",key:"matricule"},{label:"Name",key:"name"},{label:"Lastname",key:"lastname"},{label:"Supervisor",key:"supervisor"},{label:"Division",key:"division"},{label:"Job Title",key:"jobTitle"}];let e=g([]);const f=async()=>{await n.getAllEmployee(),e.value=n.employee.map(a=>({matricule:a.matricule,uuid:a.uuid,employeeId:a.employeeId.toString(),name:a.firstName,lastname:a.lastName,jobTitle:a.jobTitle,division:a.phone2,supervisor:a.supervisorLastName+" "+a.supervisorFirstName}))};g([{label:"List of staff",active:!0},{label:"List of inscrition",active:!1}]),j(()=>{f()});function u(a,i){console.log(a),I(`/account/staff-manager/staff/${a==null?void 0:a.uuid}`)}return(a,i)=>{const m=B;return r(),d("div",Q,[i[0]||(i[0]=t("div",{class:"filterelement"},[t("div",{class:"max-w-max mb-2 bg-white flex items-center gap-2 border border-zinc-200 rounded-md p-2 px-2"},[t("i",{class:"uil uil-search"}),t("input",{type:"search",class:"w-full text-[12px]",name:"",id:"",placeholder:"search for an employee"})])],-1)),x(m,{rowClick:u,columns:s,data:p(e)},null,8,["data"])])}}}),Y={class:"bg-white rounded-lg flex flex-col py-3 cursor-pointer overflow-hidden max-h-[550px] px-7 relative"},Z={class:"flex items-center justify-between p-3 w-full"},h={key:0,class:"mb-4 text-xl font-semibold text-gray-800"},ee={class:"w-full overflow-y-auton p-3 flex-1 overflow-x-hidden"},te={class:"text-gray-700"},se={key:0,class:"mt-6 p-3 flex justify-end gap-3"},ne=$({__name:"BaseModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(c){const n=c;return z(()=>n.modelValue,s=>{s?document.body.style.overflow="hidden":document.body.style.overflow=""}),(s,e)=>(r(),_(G,{to:"body"},[x(P,{name:"fade"},{default:k(()=>[s.modelValue?(r(),d("div",{key:0,class:"fixed inset-0 bg-black/50 bg-opacity-50 z-50 flex cursor-zoom-out items-center justify-center",onClick:e[1]||(e[1]=U(f=>s.$emit("update:modelValue",!1),["self"]))},[t("div",Y,[t("div",Z,[s.$slots.title?(r(),d("div",h,[S(s.$slots,"title",{},void 0,!0)])):b("",!0),t("button",{class:"cursor-pointer text-gray-400 hover:text-gray-600",onClick:e[0]||(e[0]=f=>s.$emit("update:modelValue",!1))}," ✕ ")]),t("div",ee,[t("div",te,[S(s.$slots,"default",{},void 0,!0)])]),s.$slots.footer?(r(),d("div",se,[S(s.$slots,"footer",{},void 0,!0)])):b("",!0)])])):b("",!0)]),_:3})]))}}),le=E(ne,[["__scopeId","data-v-e18c5c4e"]]),oe={class:"w-full max-w-4xl mx-auto space-y-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-[13px] text-gray-700"},ae={key:0},re={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-[13px] text-gray-700"},de={key:1},ue={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-[13px] text-gray-700"},me={key:2},pe={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-[13px] text-gray-700"},fe=$({__name:"ComponentStaffDetailsCard",props:{user:{},dependent:{},emergency:{},beneficiaries:{},store:{}},setup(c){function n(s){return s==null||s===""?"N/A":s}return(s,e)=>{var f,u,a;return r(),d("div",oe,[t("div",null,[e[19]||(e[19]=t("h2",{class:"!text-sm font-medium text-gray-800 mb-4"},"👤 Personal Information",-1)),t("div",ie,[t("div",null,[e[0]||(e[0]=t("span",{class:"font-medium text-gray-900"},"Full Name:",-1)),o(" "+l(n(s.user.firstName))+" "+l(n(s.user.lastName)),1)]),t("div",null,[e[1]||(e[1]=t("span",{class:"font-medium text-gray-900"},"Date of Birth:",-1)),o(" "+l(n(s.user.date_of_birth)),1)]),t("div",null,[e[2]||(e[2]=t("span",{class:"font-medium text-gray-900"},"Gender:",-1)),o(" "+l(n(s.user.gender)),1)]),t("div",null,[e[3]||(e[3]=t("span",{class:"font-medium text-gray-900"},"Marital Status:",-1)),o(" "+l(n(s.user.marital_status)),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"font-medium text-gray-900"},"Number of Children:",-1)),o(" "+l(n(s.user.number_of_children)),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"font-medium text-gray-900"},"Country of Birth:",-1)),o(" "+l(n(s.user.country_of_birth)),1)]),t("div",null,[e[6]||(e[6]=t("span",{class:"font-medium text-gray-900"},"Nationality 1:",-1)),o(" "+l(n(s.user.nationality_1)),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"font-medium text-gray-900"},"Nationality 2:",-1)),o(" "+l(n(s.user.nationality_2)),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"font-medium text-gray-900"},"Passport/ID Card:",-1)),o(" "+l(n(s.user.indentity_number)),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"font-medium text-gray-900"},"Social Security #:",-1)),o(" "+l(n(s.user.social_security_number)),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"font-medium text-gray-900"},"Address:",-1)),o(" "+l(n(s.user.permanent_address)),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"font-medium text-gray-900"},"Country of Residence:",-1)),o(" "+l(n(s.user.country_of_residence)),1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"font-medium text-gray-900"},"Town of Residence:",-1)),o(" "+l(n(s.user.town_of_residence)),1)]),t("div",null,[e[13]||(e[13]=t("span",{class:"font-medium text-gray-900"},"Email:",-1)),o(" "+l(n(s.user.personal_email)),1)]),t("div",null,[e[14]||(e[14]=t("span",{class:"font-medium text-gray-900"},"Phone:",-1)),o(" "+l(n(s.user.phone)),1)]),t("div",null,[e[15]||(e[15]=t("span",{class:"font-medium text-gray-900"},"Spouse Works:",-1)),o(" "+l(n(s.user.spouse_works)),1)]),t("div",null,[e[16]||(e[16]=t("span",{class:"font-medium text-gray-900"},"Spouse Workplace:",-1)),o(" "+l(n(s.user.spouse_workplace)),1)]),t("div",null,[e[17]||(e[17]=t("span",{class:"font-medium text-gray-900"},"Family Lives with Staff:",-1)),o(" "+l(n(s.user.family_living_with_staff)),1)]),t("div",null,[e[18]||(e[18]=t("span",{class:"font-medium text-gray-900"},"Family Residence Location:",-1)),o(" "+l(n(s.user.family_residence_location)),1)])])]),(f=s.dependent)!=null&&f.length?(r(),d("div",ae,[e[26]||(e[26]=t("h2",{class:"!text-sm text-gray-800 mb-4"},"👨‍👩‍👧 Dependent(s)",-1)),(r(!0),d(N,null,C(s.dependent,(i,m)=>(r(),d("div",{key:m,class:"bg-gray-100 p-4 rounded-lg mb-2"},[t("div",re,[t("div",null,[e[20]||(e[20]=t("span",{class:"font-medium text-gray-900"},"Full Name:",-1)),o(" "+l(n(i.full_name)),1)]),t("div",null,[e[21]||(e[21]=t("span",{class:"font-medium text-gray-900"},"Relation:",-1)),o(" "+l(n(i.relation)),1)]),t("div",null,[e[22]||(e[22]=t("span",{class:"font-medium text-gray-900"},"Gender:",-1)),o(" "+l(n(i.gender)),1)]),t("div",null,[e[23]||(e[23]=t("span",{class:"font-medium text-gray-900"},"Date of Birth:",-1)),o(" "+l(n(i.date_of_birth)),1)]),t("div",null,[e[24]||(e[24]=t("span",{class:"font-medium text-gray-900"},"School/Residence:",-1)),o(" "+l(n(i.residence_or_school)),1)]),t("div",null,[e[25]||(e[25]=t("span",{class:"font-medium text-gray-900"},"Nationality:",-1)),o(" "+l(n(i.nationality)),1)])])]))),128))])):b("",!0),(u=s.emergency)!=null&&u.length?(r(),d("div",de,[e[32]||(e[32]=t("h2",{class:"!text-sm font-bold text-gray-800 mb-4"},"🚨 Emergency Contact(s)",-1)),(r(!0),d(N,null,C(s.emergency,(i,m)=>(r(),d("div",{key:"emergency-"+m,class:"bg-red-50 border border-red-200 rounded-lg p-5 mb-4"},[t("div",ue,[t("div",null,[e[27]||(e[27]=t("span",{class:"font-medium text-gray-900"},"Name:",-1)),o(" "+l(n(i.name)),1)]),t("div",null,[e[28]||(e[28]=t("span",{class:"font-medium text-gray-900"},"Relationship:",-1)),o(" "+l(n(i.relationship)),1)]),t("div",null,[e[29]||(e[29]=t("span",{class:"font-medium text-gray-900"},"Address:",-1)),o(" "+l(n(i.address)),1)]),t("div",null,[e[30]||(e[30]=t("span",{class:"font-medium text-gray-900"},"Email:",-1)),o(" "+l(n(i.email)),1)]),t("div",null,[e[31]||(e[31]=t("span",{class:"font-medium text-gray-900"},"Phone:",-1)),o(" "+l(n(i.phone)),1)])])]))),128))])):b("",!0),(a=s.beneficiaries)!=null&&a.length?(r(),d("div",me,[e[39]||(e[39]=t("h2",{class:"!text-sm font-bold text-gray-800 mb-4"},"💰 Beneficiary(ies)",-1)),(r(!0),d(N,null,C(s.beneficiaries,(i,m)=>(r(),d("div",{key:"beneficiary-"+m,class:"bg-green-50 border border-green-200 rounded-lg p-5 mb-4"},[t("div",pe,[t("div",null,[e[33]||(e[33]=t("span",{class:"font-medium text-gray-900"},"Full Name:",-1)),o(" "+l(n(i.full_name)),1)]),t("div",null,[e[34]||(e[34]=t("span",{class:"font-medium text-gray-900"},"Relationship:",-1)),o(" "+l(n(i.relationship)),1)]),t("div",null,[e[35]||(e[35]=t("span",{class:"font-medium text-gray-900"},"Birthday:",-1)),o(" "+l(n(i.birthday)),1)]),t("div",null,[e[36]||(e[36]=t("span",{class:"font-medium text-gray-900"},"Address:",-1)),o(" "+l(n(i.address)),1)]),t("div",null,[e[37]||(e[37]=t("span",{class:"font-medium text-gray-900"},"Email:",-1)),o(" "+l(n(i.email)),1)]),t("div",null,[e[38]||(e[38]=t("span",{class:"font-medium text-gray-900"},"Share (%):",-1)),o(" "+l(i.percentage_share??"N/A")+"% ",1)])])]))),128))])):b("",!0)])}}}),ye={class:"content-table"},ge={class:"w-2xl"},ve={class:"flex justify-end items-center gap-2 text-sm"},xe=$({__name:"ComponentStaffDraft",setup(c){const n=V(),{employeeDraft:s}=O(n);g([]);let e=g(!1),f=g(!1);const u=g(null),a=async()=>{await n.getAllEmployeeDraft()};J(()=>{a()});function i(w,y){u.value=w,e.value=!0,console.log(JSON.stringify(u.value,null,2))}const m=async w=>{confirm("Are you sure you want to submit?")&&(f.value=!0,await n.approuvedEmployeeDraft(w.uuid),await a(),e.value=!1,f.value=!1)};return(w,y)=>{const L=B,R=H,F=le;return r(),d("div",ye,[y[4]||(y[4]=t("div",{class:"filterelement"},null,-1)),x(L,{rowClick:i,columns:p(n).columnsDraft,data:p(s)},null,8,["columns","data"]),x(F,{modelValue:p(e),"onUpdate:modelValue":y[2]||(y[2]=v=>T(e)?e.value=v:e=v)},{title:k(()=>y[3]||(y[3]=[t("h2",{class:"!text-[16px]"},"STAFF DATA INFORMATION",-1)])),footer:k(()=>[t("div",ve,[t("button",{onClick:y[0]||(y[0]=v=>T(e)?e.value=!1:e=!1),type:"button",class:"p-3 px-4 bg-gray-200 rounded-md"}," Close "),x(R,{onClick:y[1]||(y[1]=v=>m(p(u))),isLoading:p(f),type:"button",label:" Approuved"},null,8,["isLoading"])])]),default:k(()=>{var v,A,D;return[t("div",ge,[x(fe,{user:p(u),beneficiaries:((v=p(u))==null?void 0:v.beneficiaries)||[],dependent:((A=p(u))==null?void 0:A.dependents)||[],emergency:((D=p(u))==null?void 0:D.emergency_contacts)||[]},null,8,["user","beneficiaries","dependent","emergency"])])]}),_:1},8,["modelValue"])])}}}),be={class:"content"},ce={class:"rounded-md overflow-hidden bg-white border max-w-max flex mt-5 justify-between font-medium text-base cursor-pointer items-center border-b border-zinc-200"},we=["onClick"],ke=$({__name:"index",setup(c){const n=g([{label:"List of staff",active:1},{label:"List of inscrition",active:2}]),s=g(1),e=u=>{s.value=u},f={1:X,2:xe};return(u,a)=>{const i=M;return r(),d("div",null,[x(i,null,{default:k(()=>[t("div",be,[a[0]||(a[0]=t("div",{class:"header"},[t("h5",null,"staff management")],-1)),t("div",ce,[(r(!0),d(N,null,C(p(n),(m,w)=>(r(),d("button",{onClick:y=>e(m.active),class:K([" px-10 py-3 cursor-pointer text-[12px] text-center p-2  transition-all duration-200 ease-in-out",m.active==p(s)?"borsder-b-2 bsorder-black bg-primary text-white font-bold":"text-black"])},l(m.label),11,we))),256))]),(r(),_(W,null,[(r(),_(q(f[p(s)])))],1024))])]),_:1})])}}}),Ve=E(ke,[["__scopeId","data-v-04d20ef6"]]);export{Ve as default};
